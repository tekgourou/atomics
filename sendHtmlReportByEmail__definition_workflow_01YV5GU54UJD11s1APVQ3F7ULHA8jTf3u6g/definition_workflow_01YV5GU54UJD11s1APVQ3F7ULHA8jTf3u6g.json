{
  "workflow": {
    "unique_name": "definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g",
    "name": "Send HTML report by Email",
    "title": "Send HTML report by Email",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "From",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YV5HTY0RBVM420h66tgXEJigkQFqrWDH9",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Report name",
          "type": "datatype.string",
          "is_required": true,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YV5LSETS8IV3eQBPMEkI1r8XmW8AJ1DMj",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "To",
          "type": "datatype.string",
          "is_required": true,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YV5I3H8PDWL2ervAGsqLcmJET5ygBYU6w",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "    \u003cfooter\u003e\n        \u003cdiv class=\"container\" style=\"text-align: center;\"\u003e\n            \u003csmall\u003eCisco SecureX Orchestrator\u003c/small\u003e\n        \u003c/div\u003e\n    \u003c/footer\u003e\n\u003c/body\u003e\n\u003c/html\u003e",
          "scope": "local",
          "name": "HTML footer",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YVAAX59GY5D47Nv3eIS5IagAR6ufqjMVk",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "[SecureX Report] ",
          "scope": "local",
          "name": "Subject",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YV5IKOTI2XT0ROXsGZAv858GEd0zrHOin",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Report description title",
          "type": "datatype.string",
          "is_required": true,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02230LAA1VSD569YP98scbxCrnIZzN8TEVM",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n      \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"\u003e\n        \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n          \u003ctitle\u003eSecureX Report\u003c/title\u003e\n          \u003cstyle\u003e\n        html {\n            width: 100%;\n            height: 100%;\n            padding: 0px;\n            margin: 0px;\n        }\n        \n        body {\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            display: grid;\n            grid-template-rows: min-content auto min-content;\n            grid-template-areas: \"header\"\n                                 \"main\"\n                                 \"footer\";\n        }\n\n        header, main, footer, div {\n            padding: 8px;\n        }\n\n        header {\n            grid-area: header;\n            background-color: #0d274d;\n            color: white;\n        }\n\n        main {\n            grid-area: main\n        }\n\n        footer {\n            grid-area: footer;\n            background-color: #f2f2f2;\n        }\n\n        .container {\n            margin:0 auto;\n            max-width: 1200px;\n        }\n        \n        th, td {\n            padding: 16px;\n            text-align: left;\n            vertical-align: middle;\n            line-height: 24px;\n        }\n\n        .bleu {\n            color: #00bceb;\n        }\n\n        .yellow {\n            color: #fbab18;\n        }\n\n        .red {\n            color: #e2231a;\n        }\n\n        small {\n            color: rgba(0,0,0,0.4)\n        }\n    \u003c/style\u003e\n        \u003c/head\u003e\n        \u003cbody\u003e\n          \u003cheader style=\"padding: 4px; \"\u003e\n            \u003cdiv class=\"container\"\u003e\n              \u003ch2\u003eCisco SecureX Orchestration Report\u003c/h2\u003e\n            \u003c/div\u003e\n          \u003c/header\u003e",
          "scope": "local",
          "name": "HTML header",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YVA7QR45DRY4Sv0cUxuwBDlshjzWwSv9U",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Report description",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YVA56YI8LJZ6u8yIxposWoae1iri6QZ2C",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "report data",
          "type": "datatype.string",
          "description": "Can be empty for a simple Report.\n\nex: \n\u003cdiv class=\"container\"\u003e\n\u003ctable style=\"border: 0;\nwidth: 100%;\npadding:8px;\ntext-align: left;\nvertical-align: middle;\nline-height: 24px;\"\u003e\n\u003cthead style=\"background-color: #f2f2f2;\"\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/thead\u003e\n\u003ctr\u003e\n\u003ctd class=\"bleu\"\u003eThis is a TEST\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01ZBJQB8UNKS039pai7jiVXOHAgWwpSfty8",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Cc",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YV5I8NKEGGT3E5HXgPdslpACV7BodXgj3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "HTML core",
          "type": "datatype.string",
          "description": "DO NOT MODIFY",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YVABDLR1SAI50TwPLVv0GF7BXruhBPWg9",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Bcc",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YV5I6NILBSU0ThgznzP63KY2pa9MqnY77",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "Message",
          "type": "datatype.string",
          "description": "Do not modify",
          "is_required": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_01YV5IOF4YP6B3OZBtIdPigg707lD88URfi",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "atomic_group": "Report",
        "is_atomic": true
      },
      "delete_workflow_instance": false,
      "display_name": "Send HTML report by Email",
      "runtime_user": {
        "target_default": true
      },
      "target": {
        "target_type": "email.smtp_endpoint",
        "specify_on_workflow_start": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_01Z9X6XCS43RA1yO8N9RmOo8GIlEIh0txI3",
        "name": "Group",
        "title": "Report Name",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Report Name",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_01YVA91LRE6IC0QAas9xdustcukqhu4yk2c",
            "name": "Replace String",
            "title": "Replace String for Report Name",
            "type": "core.replacestring",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Replace String for Report Name",
              "input_string": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVA7QR45DRY4Sv0cUxuwBDlshjzWwSv9U$",
              "replace_list": [
                {
                  "replaced_string": "Cisco SecureX Orchestration Report",
                  "replacement_string": "Cisco SecureX Orchestration Report - $workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YV5LSETS8IV3eQBPMEkI1r8XmW8AJ1DMj$"
                },
                {
                  "replaced_string": "SecureX Report",
                  "replacement_string": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YV5LSETS8IV3eQBPMEkI1r8XmW8AJ1DMj$ Report"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_01YVAMTM1U7NB0I5c9yHn8vu8r2qusFgSmL",
            "name": "Replace String",
            "title": "Replace String Subject",
            "type": "core.replacestring",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Replace String Subject",
              "input_string": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YV5IKOTI2XT0ROXsGZAv858GEd0zrHOin$",
              "replace_list": [
                {
                  "replaced_string": "[SecureX Report]",
                  "replacement_string": "[SecureX Report] $workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YV5LSETS8IV3eQBPMEkI1r8XmW8AJ1DMj$"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_01YVAFOGJLDFE3Rpi5UJULd8IUSP8pDNG0D",
            "name": "Set Variables",
            "title": "Set Variables HTML header",
            "type": "core.set_multiple_variables",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Set Variables HTML header",
              "skip_execution": false,
              "variables_to_update": [
                {
                  "variable_to_update": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVA7QR45DRY4Sv0cUxuwBDlshjzWwSv9U$",
                  "variable_value_new": "$activity.definition_activity_01YVA91LRE6IC0QAas9xdustcukqhu4yk2c.output.result_string$"
                },
                {
                  "variable_to_update": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YV5IKOTI2XT0ROXsGZAv858GEd0zrHOin$",
                  "variable_value_new": "$activity.definition_activity_01YVAMTM1U7NB0I5c9yHn8vu8r2qusFgSmL.output.result_string$"
                }
              ]
            },
            "object_type": "definition_activity"
          }
        ]
      },
      {
        "unique_name": "definition_activity_01YVAS0ZCBS4I45jXrwnN3dY7Uct8Ydpzip",
        "name": "Condition Block",
        "title": "Report description",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Report description",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_01YVAS0ZSVQHO6nKK0NACrIwe3odMiL3tSt",
            "name": "Condition Branch",
            "title": "YES",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YVA56YI8LJZ6u8yIxposWoae1iri6QZ2C$",
                "operator": "ne",
                "right_operand": ""
              },
              "continue_on_failure": false,
              "display_name": "YES",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_01YVATYHM0FVQ1JpcpQbk4EIZniYZsj5B9I",
                "name": "Set Variables",
                "title": "Set Variables HTML core",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Set Variables HTML core",
                  "skip_execution": false,
                  "variables_to_update": [
                    {
                      "variable_to_update": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVABDLR1SAI50TwPLVv0GF7BXruhBPWg9$",
                      "variable_value_new": "\u003cdiv class=\"container\"\u003e\n\u003ctable style=\"border: 0;\nwidth: 100%;\npadding:8px;\ntext-align: left;\nvertical-align: middle;\nline-height: 24px;\"\u003e\n\u003cthead style=\"background-color: #f2f2f2;\"\u003e\n\u003cth\u003e$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_02230LAA1VSD569YP98scbxCrnIZzN8TEVM$\u003c/th\u003e\n\u003c/thead\u003e\n\u003ctr\u003e\n\u003ctd class=\"bleu\"\u003e$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YVA56YI8LJZ6u8yIxposWoae1iri6QZ2C$\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e"
                    }
                  ]
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_01ZBJR0BVGF1Y68lsi5aYgjEwVxGKD419Kt",
        "name": "Group",
        "title": "Report Data",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Report Data",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_01ZAJ92UWEEXJ0y9W7DrNS0HbrJp3Y74eZF",
            "name": "Set Variables",
            "title": "Set Variables HMTL core",
            "type": "core.set_multiple_variables",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Set Variables HMTL core",
              "skip_execution": false,
              "variables_to_update": [
                {
                  "variable_to_update": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVABDLR1SAI50TwPLVv0GF7BXruhBPWg9$",
                  "variable_value_new": "\u003cmain\u003e\n$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVABDLR1SAI50TwPLVv0GF7BXruhBPWg9$\n$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01ZBJQB8UNKS039pai7jiVXOHAgWwpSfty8$"
                }
              ]
            },
            "object_type": "definition_activity"
          }
        ]
      },
      {
        "unique_name": "definition_activity_01YVABNGVS36K1YD69nDQnN6EqArvlta1BC",
        "name": "Set Variables",
        "title": "Set Variables email message",
        "type": "core.set_multiple_variables",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Set Variables email message",
          "skip_execution": false,
          "variables_to_update": [
            {
              "variable_to_update": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YV5IOF4YP6B3OZBtIdPigg707lD88URfi$",
              "variable_value_new": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVA7QR45DRY4Sv0cUxuwBDlshjzWwSv9U$\n$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVABDLR1SAI50TwPLVv0GF7BXruhBPWg9$\n$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YVAAX59GY5D47Nv3eIS5IagAR6ufqjMVk$"
            }
          ]
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_01YV5HJKXZFDX2GWc6XOnK6yXJlikitjegh",
        "name": "Send Email",
        "title": "Send Email",
        "type": "email.smtp_send_email",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "bcc": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YV5I6NILBSU0ThgznzP63KY2pa9MqnY77$",
          "body": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YV5IOF4YP6B3OZBtIdPigg707lD88URfi$",
          "cc": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YV5I8NKEGGT3E5HXgPdslpACV7BodXgj3$",
          "continue_if_one_address_valid": false,
          "continue_on_failure": false,
          "display_name": "Send Email",
          "from": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YV5HTY0RBVM420h66tgXEJigkQFqrWDH9$",
          "html": true,
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "subject": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.local.variable_workflow_01YV5IKOTI2XT0ROXsGZAv858GEd0zrHOin$",
          "target": {
            "use_workflow_target": true
          },
          "to": "$workflow.definition_workflow_01YV5GU54UJD11s1APVQ3F7ULHA8jTf3u6g.input.variable_workflow_01YV5I3H8PDWL2ervAGsqLcmJET5ygBYU6w$"
        },
        "object_type": "definition_activity"
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  }
}